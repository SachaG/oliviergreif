---
import {
	getActualites,
	getPath,
	getSectionPath,
	SectionId,
} from "../../content";
import { truncateWords } from "../../helpers";
import Date from "../Date.astro";
import FeedItemHeading from "../FeedItemHeading.astro";
import T from "../T.astro";
import Actualite from "./Actualite.compact.astro";

const actus = getActualites();
const actualite = actus.at(0)!;
const { titre, texte, date } = actualite;

const texte_ = truncateWords(texte, 10) + "â€¦";
---

<section>
	<div class="contents">
		<Date date={date} format="short" />
		<FeedItemHeading path={getPath(actualite)} content={titre} />
	</div>
	<a
		class="home-section-link link-heading"
		href={getSectionPath(SectionId.ACTUALITES)}><T k="voir_plus" /></a
	>
</section>

<style>
	h3 {
		font-size: 0.9rem;
	}
</style>
